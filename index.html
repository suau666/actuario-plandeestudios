<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Actuario · Plan de Estudios</title>
<link rel="icon" type="image/png" href="data:image/png;base64,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">
<link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Syne:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
/* ── THEMES ──────────────────────────────────────────────────────────── */
:root {
  --bg:#0a0a0f; --surface:#13131f; --border:#1e1e30;
  --pending-bg:#111120; --pending-border:#252540; --pending-text:#3a3a58;
  --regular-bg:#1a1500; --regular-border:#e6b800; --regular-text:#e6b800;
  --approved-bg:#001a0a; --approved-border:#2ecc71; --approved-text:#2ecc71;
  --available-bg:#15151f; --available-border:#d0d0e8; --available-text:#d0d0e8;
  --accent:#ff6b35; --text-main:#c0c0d0; --text-sub:#3a3a5a;
  --stat-label-color:#3a3a5a; --header-color:#fff;
}
body.theme-white {
  --bg:#f0f0f0; --surface:#fff; --border:#d5d5e0;
  --pending-bg:#e8e8f0; --pending-border:#b0b0c8; --pending-text:#8888a8;
  --regular-bg:#fffbe6; --regular-border:#c8a000; --regular-text:#996600;
  --approved-bg:#e6f9ee; --approved-border:#22a55a; --approved-text:#1a7a44;
  --available-bg:#f8f8ff; --available-border:#555580; --available-text:#333360;
  --accent:#e85520; --text-main:#222230; --text-sub:#8888a0;
  --stat-label-color:#9090a8; --header-color:#111120;
}
body.theme-aqua {
  --bg:#e8f7f5; --surface:#fff; --border:#b8ddd9;
  --pending-bg:#dff0ee; --pending-border:#9fcbc7; --pending-text:#6aaba6;
  --regular-bg:#fffbe6; --regular-border:#c8a000; --regular-text:#8a6d00;
  --approved-bg:#e0f5e9; --approved-border:#1fa055; --approved-text:#186640;
  --available-bg:#f0fffe; --available-border:#2a9090; --available-text:#1a6060;
  --accent:#0d7a72; --text-main:#1a3a38; --text-sub:#6a9a96;
  --stat-label-color:#6a9a96; --header-color:#0d3a36;
}
body.theme-cream {
  --bg:#f5f0e8; --surface:#faf7f0; --border:#ddd5c0;
  --pending-bg:#ede8de; --pending-border:#bdb098; --pending-text:#9a8e78;
  --regular-bg:#fff8e0; --regular-border:#c08000; --regular-text:#7a5200;
  --approved-bg:#e6f2e8; --approved-border:#2a9050; --approved-text:#1a6035;
  --available-bg:#f8f4ec; --available-border:#5a5040; --available-text:#3a3028;
  --accent:#c05020; --text-main:#3a3028; --text-sub:#9a8e78;
  --stat-label-color:#9a8e78; --header-color:#2a2018;
}


* { margin:0; padding:0; box-sizing:border-box; }
body { background:var(--bg); color:var(--text-main); font-family:'Syne',sans-serif; min-height:100vh; transition:background .3s,color .3s; }

/* ── THEME SWITCHER ──────────────────────────────────────────────────── */
.theme-switcher {
  position:fixed; top:12px; right:16px;
  display:flex; align-items:center; gap:6px; z-index:100;
}

.theme-swatch { width:22px; height:22px; border-radius:6px; cursor:pointer; border:2px solid transparent; transition:transform .15s,border-color .15s; flex-shrink:0; }
.theme-swatch:hover { transform:scale(1.15); }
.theme-swatch.active { border-color:var(--accent) !important; }
.swatch-dark  { background:#0a0a0f; border-color:#444; }
.swatch-white { background:#f0f0f0; border-color:#ccc; }
.swatch-aqua  { background:#7ecece; border-color:#5aafaf; }
.swatch-cream { background:#f5e6cc; border-color:#c8b090; }

/* ── CONTAINER ───────────────────────────────────────────────────────── */
.container { position:relative; z-index:1; max-width:1500px; margin:0 auto; padding:40px 30px; }

header { text-align:center; margin-bottom:32px; }
header h1 { font-weight:800; font-size:2.8rem; letter-spacing:-1px; color:var(--header-color); text-transform:uppercase; transition:color .3s; }
header h1 span { color:var(--accent); }
header p { font-family:'Space Mono',monospace; font-size:.7rem; letter-spacing:3px; color:var(--text-sub); margin-top:6px; text-transform:uppercase; transition:color .3s; }

/* ── STATS ───────────────────────────────────────────────────────────── */
.stats { display:flex; justify-content:center; margin-bottom:32px; background:var(--surface); border:1px solid var(--border); border-radius:14px; overflow:hidden; width:fit-content; margin-left:auto; margin-right:auto; transition:background .3s,border-color .3s; }
.stat { padding:14px 26px; text-align:center; border-right:1px solid var(--border); transition:border-color .3s; }
.stat:last-child { border-right:none; }
.stat-number { font-family:'Syne',sans-serif; font-weight:800; font-size:1.7rem; line-height:1; }
.stat-label { font-family:'Space Mono',monospace; font-size:.52rem; letter-spacing:2px; text-transform:uppercase; color:var(--stat-label-color); margin-top:4px; transition:color .3s; }
.s-approved .stat-number { color:var(--approved-border); }
.s-regular  .stat-number { color:var(--regular-border); }
.s-available .stat-number { color:var(--available-border); }
.s-pending  .stat-number { color:var(--pending-text); }
.s-pct      .stat-number { color:var(--accent); }
.s-total    .stat-number { color:var(--header-color); }

/* ── LEGEND ──────────────────────────────────────────────────────────── */
.legend { display:flex; justify-content:center; gap:24px; margin-bottom:36px; }
.legend-item { display:flex; align-items:center; gap:8px; font-family:'Space Mono',monospace; font-size:.6rem; letter-spacing:1px; color:var(--text-sub); text-transform:uppercase; transition:color .3s; }
.legend-dot { width:12px; height:12px; border-radius:3px; border:2px solid; transition:all .3s; }
.legend-dot.pending   { background:var(--pending-bg);  border-color:var(--pending-border); }
.legend-dot.available { background:var(--available-bg);border-color:var(--available-border); }
.legend-dot.regular   { background:var(--regular-bg);  border-color:var(--regular-border); }
.legend-dot.approved  { background:var(--approved-bg); border-color:var(--approved-border); }

/* ── TRAMO ROWS ──────────────────────────────────────────────────────── */
.section-row { display:flex; align-items:stretch; border:1px solid var(--border); border-radius:14px; overflow:hidden; background:var(--surface); margin-bottom:10px; transition:background .3s,border-color .3s; }
.section-label { width:130px; min-width:130px; display:flex; align-items:center; justify-content:center; padding:16px 10px; font-family:'Space Mono',monospace; font-size:.58rem; letter-spacing:2px; text-transform:uppercase; color:var(--accent); border-right:1px solid var(--border); text-align:center; line-height:1.7; transition:color .3s,border-color .3s; }
.section-subjects { flex:1; display:grid; grid-template-columns:repeat(5,1fr); gap:10px; padding:12px; }
.section-subjects.cols-6 { grid-template-columns:repeat(6,1fr); }

/* ── SUBJECT CARD ────────────────────────────────────────────────────── */
.subject {
  background:var(--pending-bg); border:1.5px solid var(--pending-border);
  border-radius:10px; padding:8px 10px 10px 10px;
  cursor:default; transition:all .18s ease;
  position:relative; user-select:none;
  display:flex; flex-direction:column; gap:4px;
  overflow:visible;
}
.subject.clickable { cursor:pointer; }
.subject.clickable:hover { transform:translateY(-2px); filter:brightness(1.12); }

.subject.available { background:var(--available-bg); border-color:var(--available-border); }
.subject.available .subject-name { color:var(--available-text); }
.subject.regular   { background:var(--regular-bg);   border-color:var(--regular-border);   box-shadow:0 0 12px rgba(230,184,0,.12); }
.subject.regular   .subject-name { color:var(--regular-text); }
.subject.approved  { background:var(--approved-bg);  border-color:var(--approved-border);  box-shadow:0 0 12px rgba(46,204,113,.12); }
.subject.approved  .subject-name { color:var(--approved-text); }

/* ID — top left, always fixed, first in DOM */
.subject-code {
  font-family:'Space Mono',monospace; font-size:.56rem; font-weight:700;
  color:var(--pending-border); line-height:1; pointer-events:none;
  transition:color .18s; flex-shrink:0;
}
.subject.available .subject-code { color:var(--available-border); opacity:.6; }
.subject.regular   .subject-code { color:var(--regular-border);   opacity:.75; }
.subject.approved  .subject-code { color:var(--approved-border);  opacity:.75; }

/* Name — below the ID, never shrinks, card grows naturally */
.subject-name {
  font-size:.75rem; font-weight:600;
  color:var(--pending-text); line-height:1.35;
  transition:color .18s; display:block;
  padding-right:14px; /* room for pip */
  overflow:visible; padding-bottom:2px;
}

/* Status pip — top right */
.status-pip { position:absolute; top:8px; right:8px; width:6px; height:6px; border-radius:50%; transition:background .18s; }
.subject.available .status-pip { background:var(--available-border); opacity:.5; }
.subject.regular   .status-pip { background:var(--regular-border); }
.subject.approved  .status-pip { background:var(--approved-border); }

/* Optativa editable input */
.opt-name-input {
  background:transparent; border:none; outline:none;
  font-family:'Syne',sans-serif; font-size:.75rem; font-weight:600;
  color:var(--pending-text); width:100%; cursor:text;
  padding:0; line-height:1.28; transition:color .18s;
  padding-right:14px;
}
.subject.available .opt-name-input { color:var(--available-text); }
.subject.regular   .opt-name-input { color:var(--regular-text); }
.subject.approved  .opt-name-input { color:var(--approved-text); }
.opt-name-input::placeholder { opacity:.35; font-style:italic; }
.opt-name-input:focus { border-bottom:1px dashed var(--accent); }

.optativa {}

/* ── CICLO ───────────────────────────────────────────────────────────── */
.ciclo-wrapper { border:1px solid var(--border); border-radius:14px; overflow:hidden; background:var(--surface); margin-top:10px; transition:background .3s,border-color .3s; }
.ciclo-header { padding:14px 20px; border-bottom:1px solid var(--border); font-family:'Space Mono',monospace; font-size:.58rem; letter-spacing:3px; text-transform:uppercase; color:var(--accent); transition:color .3s,border-color .3s; }
.ciclo-body { padding:20px; position:relative; }
#arrows-svg { position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:0; }
.ciclo-grid { position:relative; z-index:1; display:grid; grid-template-columns:repeat(5,1fr); grid-auto-rows:auto; gap:12px 10px; }

/* Optativas — floating cards below everything */
.optativas-float {
  margin-top:16px;
  display:flex; align-items:center; gap:12px; flex-wrap:wrap;
}
.optativas-float-label {
  font-family:'Space Mono',monospace; font-size:.52rem; letter-spacing:2px;
  text-transform:uppercase; color:var(--text-sub); white-space:nowrap;
  transition:color .3s;
}
#optativas-row {
  display:flex; gap:10px; flex-wrap:wrap;
}
#optativas-row .subject {
  width:200px; flex-shrink:0;
}


/* ── LOADING ──────────────────────────────────────────────────────────── */
@keyframes ldot { 0%,80%,100%{transform:scale(0.6);opacity:.4} 40%{transform:scale(1);opacity:1} }
.loader-dot {
  width:10px; height:10px; border-radius:50%;
  background:var(--accent);
  animation:ldot 1.2s infinite ease-in-out both;
}

/* ── SAVE INDICATOR ──────────────────────────────────────────────────── */
.save-indicator {
  position:fixed; bottom:20px; right:24px; z-index:200;
  padding:8px 16px; border-radius:10px;
  font-family:'Space Mono',monospace; font-size:.6rem; letter-spacing:1px;
  text-transform:uppercase; pointer-events:none;
  transition:opacity .4s;
}
.save-indicator.saving { background:var(--surface); border:1px solid var(--border); color:var(--text-sub); }
.save-indicator.saved  { background:var(--approved-bg); border:1px solid var(--approved-border); color:var(--approved-text); }
.save-indicator.error  { background:var(--regular-bg); border:1px solid var(--regular-border); color:var(--regular-text); }

/* ── TOOLTIP ─────────────────────────────────────────────────────────── */
.tooltip { position:fixed; background:var(--surface); border:1px solid var(--border); border-radius:8px; padding:10px 14px; font-family:'Space Mono',monospace; font-size:.6rem; color:var(--text-main); pointer-events:none; opacity:0; transition:opacity .12s; z-index:9999; max-width:260px; line-height:1.8; }
.tooltip.visible { opacity:1; }
</style>
</head>
<body>

<!-- LOADING SCREEN -->
<div id="loading-screen" style="
  position:fixed;inset:0;z-index:9999;
  background:var(--bg);
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  gap:20px;
  transition:background .3s;
">
  <div style="font-family:'Syne',sans-serif;font-weight:800;font-size:2rem;letter-spacing:-1px;color:var(--header-color);text-transform:uppercase;">
    Actuario <span style="color:var(--accent)">·</span> Plan de Estudios
  </div>
  <div style="display:flex;gap:6px;align-items:center;">
    <div class="loader-dot" style="animation-delay:0s"></div>
    <div class="loader-dot" style="animation-delay:.15s"></div>
    <div class="loader-dot" style="animation-delay:.3s"></div>
  </div>
  <div style="font-family:'Space Mono',monospace;font-size:.6rem;letter-spacing:3px;color:var(--text-sub);text-transform:uppercase;">Cargando tu progreso...</div>
</div>

<!-- SAVE INDICATOR -->
<div id="save-indicator" class="save-indicator" style="opacity:0"></div>

<!-- THEME SWITCHER -->
<div class="theme-switcher">
  <div class="theme-swatch swatch-dark active"  title="Oscuro"     onclick="setTheme('dark',this)"></div>
  <div class="theme-swatch swatch-white"         title="Blanco"     onclick="setTheme('white',this)"></div>
  <div class="theme-swatch swatch-cream"         title="Cremita"    onclick="setTheme('cream',this)"></div>
  <div class="theme-swatch swatch-aqua"          title="Verde agua" onclick="setTheme('aqua',this)"></div>
</div>

<div id="app" style="display:none"><div class="container">
  <header>
    <h1>Actuario <span>·</span> Plan de Estudios</h1>
    <p>Correlatividades · FCE · UBA</p>
  </header>

  <div class="stats" id="stats"></div>

  <div class="legend">
    <div class="legend-item"><div class="legend-dot pending"></div> Pendiente</div>
    <div class="legend-item"><div class="legend-dot available"></div> Puedo cursar</div>
    <div class="legend-item"><div class="legend-dot regular"></div> Regular</div>
    <div class="legend-item"><div class="legend-dot approved"></div> Aprobada</div>
  </div>

  <div class="section-row">
    <div class="section-label">Primer<br>Tramo</div>
    <div class="section-subjects cols-6" id="tramo1-subjects"></div>
  </div>
  <div class="section-row">
    <div class="section-label">Segundo<br>Tramo</div>
    <div class="section-subjects" id="tramo2-subjects"></div>
  </div>

  <div class="ciclo-wrapper">
    <div class="ciclo-header">Ciclo Profesional</div>
    <div class="ciclo-body">
      <svg id="arrows-svg"></svg>
      <div class="ciclo-grid" id="ciclo-grid"></div>
    </div>
  </div>

  <!-- Optativas: loose cards outside any wrapper -->
  <div class="optativas-float">
    <span class="optativas-float-label">Optativas</span>
    <div id="optativas-row"></div>
  </div>
</div></div>

<div class="tooltip" id="tooltip"></div>

<script>

// ── SUPABASE CONFIG ──────────────────────────────────────────────────────────
// Replace these with your actual Supabase project URL and anon key
const SUPABASE_URL = 'YOUR_SUPABASE_URL';
const SUPABASE_KEY = 'YOUR_SUPABASE_ANON_KEY';
const USER_ID = 'default'; // Single-user app; change to auth user ID if needed
// NOTE: For UPSERT to work, run this SQL in Supabase:
// ALTER TABLE user_progress ADD CONSTRAINT user_progress_user_id_key UNIQUE (user_id);

async function sbFetch(path, opts = {}) {
  const { prefer, headers: extraHeaders, ...restOpts } = opts;
  const res = await fetch(SUPABASE_URL + '/rest/v1/' + path, {
    headers: {
      'apikey': SUPABASE_KEY,
      'Authorization': 'Bearer ' + SUPABASE_KEY,
      'Content-Type': 'application/json',
      'Prefer': prefer || (extraHeaders && extraHeaders['Prefer']) || '',
      ...extraHeaders
    },
    ...restOpts
  });
  if (!res.ok) {
    const err = await res.text();
    throw new Error(err);
  }
  const text = await res.text();
  return text ? JSON.parse(text) : null;
}

// ── SAVE / LOAD ──────────────────────────────────────────────────────────────
let saveTimer = null;
let currentTheme = 'dark';

function showSaving() {
  const el = document.getElementById('save-indicator');
  el.textContent = 'Guardando...';
  el.className = 'save-indicator saving';
  el.style.opacity = '1';
}
function showSaved() {
  const el = document.getElementById('save-indicator');
  el.textContent = '✓ Guardado';
  el.className = 'save-indicator saved';
  setTimeout(() => { el.style.opacity = '0'; }, 1800);
}
function showError() {
  const el = document.getElementById('save-indicator');
  el.textContent = '✗ Error al guardar';
  el.className = 'save-indicator error';
  setTimeout(() => { el.style.opacity = '0'; }, 3000);
}

async function saveProgress() {
  showSaving();
  const statesPayload = {};
  for (const id in states) statesPayload[id] = states[id];
  const optNames = { opt1: subjects.opt1.name, opt2: subjects.opt2.name };
  try {
    // UPSERT: insert or update in one atomic operation
    await sbFetch('user_progress', {
      method: 'POST',
      prefer: 'resolution=merge-duplicates,return=minimal',
      body: JSON.stringify({
        user_id: USER_ID,
        states: statesPayload,
        opt_names: optNames,
        theme: currentTheme,
        updated_at: new Date().toISOString()
      })
    });
    showSaved();
  } catch(e) {
    console.error('Save error:', e);
    showError();
  }
}

function scheduleSave() {
  clearTimeout(saveTimer);
  saveTimer = setTimeout(saveProgress, 800);
}

async function loadProgress() {
  try {
    const data = await sbFetch('user_progress?user_id=eq.' + USER_ID + '&limit=1');
    if (data && data.length > 0) {
      const row = data[0];
      // Restore states
      if (row.states) {
        for (const id in row.states) {
          if (states[id] !== undefined) states[id] = row.states[id];
        }
      }
      // Restore opt names
      if (row.opt_names) {
        if (row.opt_names.opt1 !== undefined) subjects.opt1.name = row.opt_names.opt1;
        if (row.opt_names.opt2 !== undefined) subjects.opt2.name = row.opt_names.opt2;
      }
      // Restore theme
      if (row.theme) {
        currentTheme = row.theme;
        applyTheme(row.theme);
      }
    }
  } catch(e) {
    console.error('Load error:', e);
  }
}

function applyTheme(name) {
  document.body.className = name === 'dark' ? '' : 'theme-' + name;
  document.querySelectorAll('.theme-swatch').forEach(s => s.classList.remove('active'));
  const swatchMap = { dark: 'swatch-dark', white: 'swatch-white', aqua: 'swatch-aqua', cream: 'swatch-cream' };
  const el = document.querySelector('.' + (swatchMap[name] || 'swatch-dark'));
  if (el) el.classList.add('active');
  requestAnimationFrame(drawArrows);
}

// ── THEME ────────────────────────────────────────────────────────────────────
function setTheme(name, el) {
  currentTheme = name;
  applyTheme(name);
  scheduleSave();
}


// ── DATA ─────────────────────────────────────────────────────────────────────
// 6 columns max, rows = dependency depth
// Optativas are rendered separately BELOW the grid

const subjects = {
  // Tramo 1
  245: { name:'Álgebra',                          tramo:1, prereqsApproved:[] },
  241: { name:'Análisis Matemático 1',             tramo:1, prereqsApproved:[] },
  242: { name:'Economía',                          tramo:1, prereqsApproved:[] },
  246: { name:'Historia Ec. y Social',             tramo:1, prereqsApproved:[] },
  255: { name:'Análisis Contable',                 tramo:1, prereqsApproved:[] },
  256: { name:'Inst. Gobierno y Ec. Política',     tramo:1, prereqsApproved:[] },
  // Tramo 2
  540: { name:'Análisis Estadístico',              tramo:2, prereqsApproved:[] },
  542: { name:'Matemática Aplicada',               tramo:2, prereqsApproved:[] },
  262: { name:'Macroeconomía I',                   tramo:2, prereqsApproved:[] },
  274: { name:'Sistemas Administrativos',          tramo:2, prereqsApproved:[] },
  462: { name:'Derecho Empresarial',               tramo:2, prereqsApproved:[] },

  // ── Ciclo Profesional ───────────────────────────────────────────────────────
  // Layout en 5 columnas temáticas para minimizar cruces:
  //   Col 0: Rama Estadística
  //   Col 1: Rama Actuarial / Seguros
  //   Col 2: Rama Matemática / Equilibrio
  //   Col 3: Rama Economía, Dcho y Comp. Cient.
  //   Col 4: Rama Final (Inversiones, Práctica, Modelos)

  // ── Row 0: materias que solo dependen del Tramo 2 ──
  602: { name:'Análisis Estadístico II',           tramo:3, col:0, row:0, prereqsApproved:[540,542] },
  601: { name:'Mat. Financiera y Actuarial',       tramo:3, col:1, row:0, prereqsApproved:[540,542] },
  544: { name:'Matemática Aplicada II',            tramo:3, col:2, row:0, prereqsApproved:[542] },
  291: { name:'Microeconomía p/Economistas',       tramo:3, col:3, row:0, prereqsApproved:[542] },
  603: { name:'Dcho. Financiero, Seg. y S.S.',     tramo:3, col:4, row:0, prereqsApproved:[462] },

  // ── Row 1: primer nivel de dependencias ──
  751: { name:'Estadística Actuarial',             tramo:3, col:0, row:1, prereqsApproved:[544,602] },
  279: { name:'Administración Financiera',         tramo:3, col:1, row:1, prereqsApproved:[601] },
  752: { name:'Análisis Numérico',                 tramo:3, col:2, row:1, prereqsApproved:[544] },
  746: { name:'Computación Científica Actuarial',  tramo:3, col:3, row:1, prereqsApproved:[540,542] },

  // ── Row 2: segundo nivel ──
  548: { name:'Dinero y Bancos',                   tramo:3, col:1, row:2, prereqsApproved:[279,602] },

  // ── Row 3: tercer nivel — convergen varias ramas ──
  753: { name:'Biometría Actuarial',               tramo:3, col:1, row:3, prereqsApproved:[601,751,752] },
  755: { name:'T.Act. Seguros Patrimoniales (A2)', tramo:3, col:2, row:3, prereqsApproved:[601,751,752] },
  758: { name:'Bases Act. Inversiones (A5)',        tramo:3, col:4, row:3, prereqsApproved:[601,751] },

  // ── Row 4: cuarto nivel ──
  754: { name:'T.Act. Seguros Personales (A1)',    tramo:3, col:1, row:4, prereqsApproved:[753] },

  // ── Row 5: quinto nivel ──
  756: { name:'T.Act. Fond. y Plan Jub. (A4)',     tramo:3, col:1, row:5, prereqsApproved:[754] },
  757: { name:'T. Equilibrio Actuarial (A3)',       tramo:3, col:2, row:5, prereqsApproved:[754,755] },

  // ── Row 6: materias finales ──
  728: { name:'Práctica Profesional del Actuario', tramo:3, col:3, row:6, prereqsApproved:[754,755,756] },
  717: { name:'Modelos y Proyecciones Actuariales',tramo:3, col:4, row:6, prereqsApproved:[757,758,746] },

  // Optativas — rendered separately, no col/row
  opt1:{ name:'', tramo:3, prereqsApproved:[], optional:true, editable:true, label:'Optativa 1' },
  opt2:{ name:'', tramo:3, prereqsApproved:[], optional:true, editable:true, label:'Optativa 2' },
};

// Correlatividades — ordenadas para routing limpio
const arrowDefs = [
  // Col 0: 602 ← 544  (misma fila → horizontal)
  [544,602],
  // Col 0→0: 602 → 751  (vertical col 0)
  [602,751],
  // Col 1: 601 → 279 → 548  (vertical col 1)
  [601,279],
  [279,548],
  // Col 2: 544 → 752  (vertical col 2)
  [544,752],
  // 602 → 548 (col 0 → col 1, mismo nivel aprox — baja diagonal corta)
  [602,548],
  // 601,751,752 → 753  (tres fuentes col 0,1,2 → col 1 row 3)
  [601,753],
  [751,753],
  [752,753],
  // 601,751,752 → 755  (tres fuentes → col 2 row 3)
  [601,755],
  [751,755],
  [752,755],
  // 601,751 → 758  (col 0,1 → col 4)
  [601,758],
  [751,758],
  // 753 → 754  (vertical col 1)
  [753,754],
  // 754 → 756  (vertical col 1)
  [754,756],
  // 754,755 → 757  (col 1,2 → col 2 row 5)
  [754,757],
  [755,757],
  // 754,755,756 → 728  (col 1,1,1 → col 3 row 6)
  [754,728],
  [755,728],
  [756,728],
  // 757,758,746 → 717  (col 2,4,3 → col 4 row 6)
  [757,717],
  [758,717],
  [746,717],
];

const states = {};

function initStates() {
  for (const id in subjects) states[id] = 'pending';
  [245,241,242,246,255,256, 540,542,262,274,462].forEach(id => { states[id] = 'approved'; });
  // Optativas always start as available (no prereqs)
  states['opt1'] = 'available';
  states['opt2'] = 'available';
  recalc();
}

function allApproved(ids) { return ids.every(id => states[id] === 'approved'); }

function prereqsMet(id) {
  const s = subjects[id];
  if (s.optional || s.tramo <= 2) return true;
  if (!s.prereqsApproved.length) return true;
  return allApproved(s.prereqsApproved);
}

function recalc() {
  for (const id in subjects) {
    if (states[id] === 'approved' || states[id] === 'regular') continue;
    states[id] = prereqsMet(id) ? 'available' : 'pending';
  }
}

function cycle(id) {
  const s = states[id];
  if (s === 'pending') return;
  states[id] = s === 'available' ? 'regular' : s === 'regular' ? 'approved' : 'available';
  recalc();
  renderAll();
  scheduleSave();
}

// ── CARD ─────────────────────────────────────────────────────────────────────
function makeCard(id) {
  const subj = subjects[id];
  const state = states[id];
  const isOpt = subj.editable;

  const div = document.createElement('div');
  div.className = `subject ${state}${state !== 'pending' ? ' clickable' : ''}${subj.optional ? ' optativa' : ''}`;
  div.id = `card-${id}`;

  // Name / editable input
  let nameEl;
  if (isOpt) {
    nameEl = document.createElement('input');
    nameEl.type = 'text';
    nameEl.className = 'opt-name-input';
    nameEl.placeholder = 'Escribí la materia...';
    nameEl.value = subj.name || '';
    nameEl.addEventListener('input', e => { subj.name = e.target.value; scheduleSave(); });
    nameEl.addEventListener('click', e => e.stopPropagation());
  } else {
    nameEl = document.createElement('span');
    nameEl.className = 'subject-name' + (subj.name.length > 26 ? ' long' : '');
    nameEl.textContent = subj.name;
  }

  // ID badge — bottom right
  const codeEl = document.createElement('span');
  codeEl.className = 'subject-code';
  // For optativas: show "Opt. 1" / "Opt. 2"; for tramo subjects: show id number
  codeEl.textContent = isOpt ? (subj.label || id) : (isNaN(id) ? '—' : id);

  // Status pip
  const pip = document.createElement('div');
  pip.className = 'status-pip';

  div.appendChild(codeEl);
  div.appendChild(nameEl);
  div.appendChild(pip);

  if (state !== 'pending') div.addEventListener('click', () => cycle(id));

  if (!isOpt) {
    div.addEventListener('mouseenter', e => {
      if (state === 'pending' && subj.prereqsApproved?.length) {
        const missing = subj.prereqsApproved
          .filter(p => states[p] !== 'approved')
          .map(p => `${p} – ${subjects[p]?.name || p}`).join('\n');
        if (missing) showTip(e, `Falta aprobar:\n${missing}`);
      } else if (state === 'available') {
        showTip(e, 'Click → Regular · Click 2× → Aprobada');
      }
    });
    div.addEventListener('mousemove', moveTip);
    div.addEventListener('mouseleave', hideTip);
  }

  return div;
}

// ── RENDER ───────────────────────────────────────────────────────────────────
function renderTramos() {
  const t1 = document.getElementById('tramo1-subjects');
  const t2 = document.getElementById('tramo2-subjects');
  t1.innerHTML = ''; t2.innerHTML = '';
  [245,241,242,246,255,256].forEach(id => t1.appendChild(makeCard(id)));
  [540,542,262,274,462].forEach(id => t2.appendChild(makeCard(id)));
}

function renderCiclo() {
  const grid = document.getElementById('ciclo-grid');
  grid.innerHTML = '';

  for (const id in subjects) {
    const s = subjects[id];
    if (s.tramo !== 3 || s.optional) continue;
    const card = makeCard(id);
    card.style.gridColumn = s.col + 1;
    card.style.gridRow    = s.row + 1;
    grid.appendChild(card);
  }

  // Render optativas in the floating row
  const optRow = document.getElementById('optativas-row');
  optRow.innerHTML = '';
  ['opt1','opt2'].forEach(id => optRow.appendChild(makeCard(id)));

  requestAnimationFrame(() => requestAnimationFrame(drawArrows));
}

// ── ARROWS ───────────────────────────────────────────────────────────────────
function drawArrows() {
  const svg = document.getElementById('arrows-svg');
  svg.innerHTML = '';
  const parent = svg.parentElement;
  const pRect = parent.getBoundingClientRect();

  const isLight = ['theme-white','theme-aqua','theme-cream'].some(c => document.body.classList.contains(c));
  const pendingColor  = isLight ? 'rgba(80,80,120,.65)'  : 'rgba(70,70,120,.9)';
  const approvedColor = isLight ? 'rgba(20,140,70,.6)'   : 'rgba(46,204,113,.6)';

  const defs = document.createElementNS('http://www.w3.org/2000/svg','defs');
  const mkMarker = (mid, color) => {
    const m = document.createElementNS('http://www.w3.org/2000/svg','marker');
    m.setAttribute('id', mid);
    m.setAttribute('markerWidth','6'); m.setAttribute('markerHeight','6');
    m.setAttribute('refX','5'); m.setAttribute('refY','3');
    m.setAttribute('orient','auto');
    const p = document.createElementNS('http://www.w3.org/2000/svg','path');
    p.setAttribute('d','M0,0 L0,6 L6,3 z'); p.setAttribute('fill', color);
    m.appendChild(p); return m;
  };
  defs.appendChild(mkMarker('ad', pendingColor));
  defs.appendChild(mkMarker('ao', approvedColor));
  svg.appendChild(defs);

  // Count how many arrows leave each source card (for offset)
  const outCount = {};
  const outIdx   = {};
  arrowDefs.forEach(([fId]) => { outCount[fId] = (outCount[fId]||0)+1; });
  arrowDefs.forEach(([fId]) => { outIdx[fId] = 0; });

  arrowDefs.forEach(([fId, tId]) => {
    const fEl = document.getElementById('card-'+fId);
    const tEl = document.getElementById('card-'+tId);
    if (!fEl || !tEl) return;
    const fr = fEl.getBoundingClientRect();
    const tr = tEl.getBoundingClientRect();

    const fL = fr.left - pRect.left, fR = fr.right - pRect.left;
    const fT = fr.top  - pRect.top,  fB = fr.bottom - pRect.top;
    const tL = tr.left - pRect.left, tR = tr.right - pRect.left;
    const tT = tr.top  - pRect.top,  tB = tr.bottom - pRect.top;
    const fCX = fL + fr.width/2,  fCY = fT + fr.height/2;
    const tCX = tL + tr.width/2,  tCY = tT + tr.height/2;

    const dy = tCY - fCY;
    const dx = tCX - fCX;

    // Spread multiple arrows from same source
    const n = outCount[fId] || 1;
    const i = outIdx[fId] || 0;
    outIdx[fId] = i + 1;
    const spread = n > 1 ? (i/(n-1) - 0.5) * fr.width * 0.6 : 0;

    let x1, y1, x2, y2, cpx1, cpy1, cpx2, cpy2;

    if (Math.abs(dy) > Math.abs(dx) * 0.7) {
      // Vertical: exit bottom-center (spread), enter top-center
      x1 = fCX + spread; y1 = fB;
      // Find entry point — spread on target too
      const inCount = arrowDefs.filter(([,t]) => t===tId).length;
      const inIdx   = arrowDefs.filter(([,t]) => t===tId).findIndex(([f,t]) => f===fId);
      const tSpread = inCount > 1 ? (inIdx/(inCount-1) - 0.5) * tr.width * 0.5 : 0;
      x2 = tCX + tSpread; y2 = tT;
      const d = Math.max(Math.abs(y2-y1)*.45, 25);
      cpx1=x1; cpy1=y1+d; cpx2=x2; cpy2=y2-d;
    } else {
      // Horizontal: exit right, enter left
      x1 = fR; y1 = fCY + spread;
      x2 = tL; y2 = tCY;
      const d = Math.max(Math.abs(x2-x1)*.45, 25);
      cpx1=x1+d; cpy1=y1; cpx2=x2-d; cpy2=y2;
    }

    const approved = states[fId]==='approved';
    const stroke = approved
      ? (isLight ? 'rgba(20,140,70,.25)' : 'rgba(46,204,113,.3)')
      : (isLight ? 'rgba(80,80,130,.3)'  : 'rgba(60,60,110,.75)');

    const path = document.createElementNS('http://www.w3.org/2000/svg','path');
    path.setAttribute('d',`M${x1},${y1} C${cpx1},${cpy1} ${cpx2},${cpy2} ${x2},${y2}`);
    path.setAttribute('stroke', stroke);
    path.setAttribute('stroke-width','1.4');
    path.setAttribute('fill','none');
    path.setAttribute('marker-end', approved ? 'url(#ao)' : 'url(#ad)');
    svg.appendChild(path);
  });
}

// ── STATS ────────────────────────────────────────────────────────────────────
function renderStats() {
  const div = document.getElementById('stats');
  // All subjects always count — including opt1 and opt2
  const allIds = Object.keys(subjects); // includes opt1, opt2
  const total = allIds.length;
  const c = {approved:0,regular:0,available:0,pending:0};
  allIds.forEach(id => {
    const st = states[id];
    if      (st === 'approved')  c.approved++;
    else if (st === 'regular')   c.regular++;
    else if (st === 'available') c.available++;
    else                         c.pending++;
  });
  const pct = total > 0 ? Math.round(c.approved / total * 100) : 0;
  div.innerHTML = `
    <div class="stat s-approved"><div class="stat-number">${c.approved}</div><div class="stat-label">Aprobadas</div></div>
    <div class="stat s-regular"><div class="stat-number">${c.regular}</div><div class="stat-label">Regulares</div></div>
    <div class="stat s-available"><div class="stat-number">${c.available}</div><div class="stat-label">Puedo cursar</div></div>
    <div class="stat s-pending"><div class="stat-number">${c.pending}</div><div class="stat-label">Pendientes</div></div>
    <div class="stat s-pct"><div class="stat-number">${pct}%</div><div class="stat-label">Aprobado</div></div>
    <div class="stat s-total"><div class="stat-number">${total}</div><div class="stat-label">Total materias</div></div>`;
}

function renderAll() { renderStats(); renderTramos(); renderCiclo(); }

// ── TOOLTIP ──────────────────────────────────────────────────────────────────
const tip = document.getElementById('tooltip');
let tv = false;
function showTip(e,t){tip.innerHTML=t.replace(/\n/g,'<br>');tip.classList.add('visible');tv=true;moveTip(e);}
function moveTip(e){if(!tv)return;tip.style.left=(e.clientX+16)+'px';tip.style.top=(e.clientY-8)+'px';}
function hideTip(){tip.classList.remove('visible');tv=false;}

window.addEventListener('resize', () => requestAnimationFrame(drawArrows));

async function boot() {
  initStates();
  await loadProgress();
  document.getElementById('loading-screen').style.display = 'none';
  document.getElementById('app').style.display = 'block';
  renderAll();
}
boot();
</script>
</body>
</html>
